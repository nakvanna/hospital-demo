(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{2407:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",[e("q-card-actions",{attrs:{align:"left"}},[e("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],staticStyle:{width:"150px"},attrs:{color:"red",icon:"reply",label:"ត្រឡប់ក្រោយ"}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("ថយក្រោយ")])],1)],1),e("q-card-section",[e("q-form",{ref:"addForm",staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[e("q-card",{staticClass:"my-card bg-grey-1",attrs:{flat:"",bordered:""}},[e("q-card-section",[e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-item-label",{staticClass:"q-my-sm"},[t._v("\n              ឈ្មោះខ្មែរ\n            ")])],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"នាមត្រកូល",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.lname,callback:function(a){t.$set(t.data,"lname",a)},expression:"data.lname"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"នាមខ្លួន",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.fname,callback:function(a){t.$set(t.data,"fname",a)},expression:"data.fname"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-item-label",{staticClass:"q-my-sm"},[t._v("\n              ឈ្មោះឡាតាំង\n            ")])],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"នាមត្រកូលឡាតាំង",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.llatin,callback:function(a){t.$set(t.data,"llatin",a)},expression:"data.llatin"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"នាមខ្លួនឡាតាំង",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.flatin,callback:function(a){t.$set(t.data,"flatin",a)},expression:"data.flatin"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-select",{staticClass:"col",attrs:{outlined:"",label:"ភេទ",options:["ស្រី","ប្រុស"],square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមជ្រើសរើសចន្លោះ"}]},model:{value:t.data.gender,callback:function(a){t.$set(t.data,"gender",a)},expression:"data.gender"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"ថ្ងៃខែឆ្នាំកំណើត",square:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[e("q-popup-proxy",{ref:"dateDOB",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{on:{input:function(){return t.$refs.dateDOB.hide()}},model:{value:t.data.dob,callback:function(a){t.$set(t.data,"dob",a)},expression:"data.dob"}})],1)],1)]},proxy:!0}]),model:{value:t.data.dob,callback:function(a){t.$set(t.data,"dob",a)},expression:"data.dob"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"លេខទូរសព្ទ",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.phone,callback:function(a){t.$set(t.data,"phone",a)},expression:"data.phone"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-item-label",{staticClass:"q-my-sm"},[t._v("\n              អាស័យដ្ឋានបច្ចុប្បន្ន\n              "),e("q-btn",{attrs:{icon:"add",round:"",flat:"",color:"primary"},on:{click:function(a){return t.$refs.addressBook.show()}}})],1)],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-select",{staticClass:"col",attrs:{"use-input":"",outlined:"",label:"ជ្រើសរើស អាស័យដ្ឋានបច្ចុប្បន្ន",options:t.optionsAddressBook,square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមជ្រើសរើសចន្លោះ"}]},on:{filter:t.filterFnAddressBook},model:{value:t.data.current_address_book,callback:function(a){t.$set(t.data,"current_address_book",a)},expression:"data.current_address_book"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-uploader",{staticClass:"col",staticStyle:{"max-width":"300px"},attrs:{factory:t.factoryFnUploadPhoto,accept:"image/*","hide-upload-btn":"",label:"ដាក់រូបភាព",color:"grey",square:"",flat:"",bordered:"","auto-upload":""}})],1)]),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{staticStyle:{width:"150px",height:"50px"},attrs:{icon:"save",color:"primary",label:"រក្សារទុក"},on:{click:function(a){return t.$refs.addForm.submit()}}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Save")])],1)],1)],1)],1)],1),e("address-book",{ref:"addressBook"})],1)},o=[],n=e("9943"),r={name:"PatientAdd",components:{AddressBook:n["a"]},data:function(){return{dialog:!1,maximizedToggle:!0,formData:new FormData,data:{lname:"",fname:"",llatin:"",flatin:"",gender:"",dob:"",phone:"",pob_address_book:"",current_address_book:"",hostname:"https://api.hospital.demo.cloudware.com.kh/"},optionsAddressBook:[]}},computed:{getAddressBooks:function(){return this.$store.getters["address_book/getAddressBook"].map((function(t){return{value:t._id,label:"".concat(t.province," - ").concat(t.district," - ").concat(t.commune," - ").concat(t.village)}}))}},methods:{onSubmit:function(){var t=this,a=JSON.stringify(t.data);t.formData.set("data",a),t.$q.loading.show(),t.$store.dispatch("patient/storePatient",t.formData).then((function(a){a.status?(t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:a.message}),t.isShow=!1,window.history.back(),t.$q.loading.hide()):t.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:a.message})}))},filterFnAddressBook:function(t,a,e){var s=this;a((function(){var a=t.toLowerCase();s.optionsAddressBook=s.getAddressBooks.filter((function(t){return t.label.toLowerCase().indexOf(a)>-1}))}))},factoryFnUploadPhoto:function(t){var a=this;a.formData.set("photo",t[0])}}},l=r,i=e("7a99"),d=e("3d2d"),c=e.n(d),u=e("60e8"),m=e("49db"),p=e("31c6"),f=e("c150"),b=e("81d0"),q=e("a238"),g=e("d6af"),h=e("8e7c"),k=e("17bc"),v=e("3cf2"),w=e("5171"),x=e("14f2"),y=e("84ed"),C=e("5879"),_=Object(i["a"])(l,s,o,!1,null,"bd4f82c0",null);a["default"]=_.exports;c()(_,"components",{QCard:u["a"],QCardActions:m["a"],QBtn:p["a"],QTooltip:f["a"],QCardSection:b["a"],QForm:q["a"],QItemLabel:g["a"],QInput:h["a"],QSelect:k["a"],QIcon:v["a"],QPopupProxy:w["a"],QDate:x["a"],QUploader:y["a"]}),c()(_,"directives",{GoBack:C["a"]})}}]);