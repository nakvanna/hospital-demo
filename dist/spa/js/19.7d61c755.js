(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{cd66:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h5 text-bold"},[t._v("ពិនិត្រឡាបូ")]),a("q-space"),a("q-btn",{attrs:{size:"20px",icon:"add_circle_outline",flat:"",round:"",to:"/labo/create"}})],1),a("q-card-section",[a("q-table",{staticClass:"table-virtual-scroll",attrs:{data:t.getLabos,columns:t.columns,"row-key":"name",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-btn",{attrs:{flat:"",icon:"more_vert",dense:"",color:"grey",size:"12px"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[a("q-item",{attrs:{clickable:"",to:"/labo/"+e.row._id+"/edit"}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"edit",size:"15px"}})],1),a("q-item-section",[t._v("\n                        Edit\n                      ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator"),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.printLabo(e.row._id)}}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"print",size:"15px"}})],1),a("q-item-section",[t._v("\n                        Print\n                      ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator"),a("q-item",{attrs:{clickable:""},on:{click:function(a){return t.downloadLabo(e.row._id)}}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"print",size:"15px"}})],1),a("q-item-section",[t._v("\n                        Download\n                      ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1)],1)],1)],1)],1),a("q-td",{key:"photo",attrs:{props:e}},[a("q-avatar",{staticClass:"shadow-1",attrs:{size:"100px"}},[a("q-img",{attrs:{src:t.hostname+e.row.patient.photo}})],1)],1),a("q-td",{key:"full_name",attrs:{props:e}},[t._v("\n              "+t._s(e.row.full_name)+"\n            ")]),a("q-td",{key:"title",attrs:{props:e}},[t._v("\n              "+t._s(e.row.title)+"\n            ")]),a("q-td",{key:"heat",attrs:{props:e}},[t._v("\n              "+t._s(e.row.heat)+"\n            ")]),a("q-td",{key:"blood_pressure",attrs:{props:e}},[t._v("\n              "+t._s(e.row.blood_pressure)+"\n            ")]),a("q-td",{key:"pulse",attrs:{props:e}},[t._v("\n              "+t._s(e.row.pulse)+"\n            ")]),a("q-td",{key:"spo",attrs:{props:e}},[t._v("\n              "+t._s(e.row.spo)+"\n            ")]),a("q-td",{key:"doctor",attrs:{props:e}},[t._v("\n              "+t._s(e.row.doctor)+"\n            ")]),a("q-td",{key:"createdAt",attrs:{props:e}},[t._v("\n              "+t._s(t.dateConverted(e.row.createdAt))+"\n            ")])],1)]}}])})],1)],1)],1)},r=[],o=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("967e")),i=a.n(o),s=(a("96cf"),a("fa84")),l=a.n(s),c=a("c47a"),d=a.n(c);function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function u(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){d()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var f={name:"Labo",data:function(){return{hostname:"https://api.visai.cloudware.com.kh/",filter:"",pagination:{rowsPerPage:0},columns:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"photo",field:"photo"},{align:"left",name:"full_name",label:"អ្នកជម្ងឺ",field:"full_name",sortable:!0},{align:"left",name:"title",label:"ចំណងជើង",field:"title",sortable:!0},{align:"left",name:"heat",label:"កម្ដៅខ្លួន",field:"heat",sortable:!0},{align:"left",name:"blood_pressure",label:"សម្ពាធឈាម",field:"blood_spressure",sortable:!0},{align:"left",name:"pulse",label:"ជីពចរ",field:"pulse",sortable:!0},{align:"left",name:"spo",label:"SPO",field:"spo",sortable:!0},{align:"left",name:"doctor",label:"ពិនិត្យដោយ",field:"doctor",sortable:!0},{align:"left",name:"createdAt",label:"កាលបរិច្ឆេទ",field:"createdAt"}]}},computed:{getLabos:function(){return this.$store.getters["labo/getLabos"].map((function(t){return u(u({},t),{},{full_name:"".concat(t.patient.lname," ").concat(t.patient.fname)})}))}},methods:{printLabo:function(t){var e=this;e.$q.loading.show(),e.$store.dispatch("report/printLabo",t).then((function(t){t.status&&setTimeout((function(){e.$q.loading.hide(),window.open(t.data.pdf,"_blank")}),2e3)}))},downloadLabo:function(t){var e=this;return l()(i.a.mark((function a(){var n;return i.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e,n.$q.loading.show(),a.next=4,n.$store.dispatch("report/downloadLabo",t).then((function(t){t.status?n.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:"Successfully downloaded DOCX's file!"}):n.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:"Error download DOCX's file!"}),n.$q.loading.hide()}));case 4:case"end":return a.stop()}}),a)})))()},dateConverted:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),n=new Intl.DateTimeFormat("en",{month:"short"}).format(e),r=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(r,"-").concat(n,"-").concat(a)}}},m=f,b=a("2877"),w=a("eebe"),q=a.n(w),_=a("9989"),g=a("f09f"),h=a("a370"),y=a("2c91"),v=a("9c40"),k=a("eaac"),x=a("27f9"),O=a("0016"),Q=a("bd08"),C=a("db86"),P=a("4e73"),j=a("1c1c"),S=a("66e5"),D=a("4074"),L=a("eb85"),z=a("cb32"),$=a("068f"),I=Object(b["a"])(m,n,r,!1,null,"da3c830e",null);e["default"]=I.exports;q()(I,"components",{QPage:_["a"],QCard:g["a"],QCardSection:h["a"],QSpace:y["a"],QBtn:v["a"],QTable:k["a"],QInput:x["a"],QIcon:O["a"],QTr:Q["a"],QTd:C["a"],QMenu:P["a"],QList:j["a"],QItem:S["a"],QItemSection:D["a"],QSeparator:L["a"],QAvatar:z["a"],QImg:$["a"]})}}]);