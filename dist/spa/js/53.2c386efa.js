(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[53],{b3a8:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h5 text-bold"},[t._v("ស្តុកទំនិញ")]),a("q-space"),a("q-btn",{attrs:{size:"20px",icon:"add_circle_outline",flat:"",round:"",to:"/stock/create"}})],1),a("q-card-section",[a("div",[a("q-option-group",{attrs:{inline:"",options:[{label:"Receive",value:"receive"},{label:"Pending",value:"pending"}]},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}}),a("q-tab-panels",{staticClass:"shadow-2 rounded-borders",attrs:{animated:""},model:{value:t.panel,callback:function(e){t.panel=e},expression:"panel"}},[a("q-tab-panel",{attrs:{name:"receive"}},[a("div",{staticClass:"text-h6 text-bold"},[t._v("Receive")]),a("q-card-section",[a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getStocksReceive,columns:t.columns_receive,"row-key":"_id",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(a){return t.$router.push({path:"/stock/"+e.row._id+"/view"})}}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-btn",{attrs:{size:"15px",flat:"",round:"",color:"green",dense:"",icon:"fas fa-hand-holding-usd",to:"/pay/"+e.row._id+"/back"}})],1),a("q-td",{key:"sup_name",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-uppercase"},[t._v(t._s(e.row.supplier.name))])]),a("q-td",{key:"description",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-input",{staticClass:"col",attrs:{readonly:"",type:"textarea",rows:"2",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:e.row.description,callback:function(a){t.$set(e.row,"description",a)},expression:"props.row.description"}})],1),a("q-td",{key:"amount",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-primary"},[t._v("$"+t._s(e.row.amount))])]),a("q-td",{key:"paid_balance",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-warning"},[t._v("$"+t._s(e.row.paid_amount))])]),a("q-td",{key:"due_balance",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-negative"},[t._v("$"+t._s(e.row.due_amount))])]),a("q-td",{key:"purchase_date",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(t.dateConverted(e.row.purchase_date)))])])],1)]}}])})],1)],1),a("q-tab-panel",{attrs:{name:"pending"}},[a("div",{staticClass:"text-h6 text-bold"},[t._v("Pending")]),a("q-card-section",[a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getStocksPending,columns:t.columns_pending,"row-key":"_id",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(a){return t.$router.push({path:"/stock/"+e.row._id+"/view"})}}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-btn",{attrs:{size:"15px",flat:"",round:"",color:"warning",dense:"",icon:"fas fa-edit",to:"/stock/"+e.row._id+"/edit"}})],1),a("q-td",{key:"sup_name",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-uppercase"},[t._v(t._s(e.row.supplier.name))])]),a("q-td",{key:"description",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-input",{staticClass:"col",attrs:{readonly:"",type:"textarea",rows:"2",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:e.row.description,callback:function(a){t.$set(e.row,"description",a)},expression:"props.row.description"}})],1),a("q-td",{key:"amount",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-primary"},[t._v("$"+t._s(e.row.amount))])]),a("q-td",{key:"paid_balance",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-warning"},[t._v("$"+t._s(e.row.paid_amount))])]),a("q-td",{key:"due_balance",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-negative"},[t._v("$"+t._s(e.row.due_amount))])]),a("q-td",{key:"purchase_date",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(t.dateConverted(e.row.purchase_date)))])])],1)]}}])})],1)],1)],1)],1)])],1)],1)},n=[],r={name:"Stock",data:function(){return{panel:"receive",filter:"",pagination:{rowsPerPage:0},columns_receive:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"sup_name",label:"អ្នកផ្គត់ផ្គង់",field:"sup_name",sortable:!0},{align:"left",name:"description",label:"ចំណាំ",field:"description",sortable:!0},{align:"left",name:"amount",label:"សរុប",field:"amount",sortable:!0},{align:"left",name:"paid_balance",label:"ថ្លៃចំណាយ",field:"paid_balance",sortable:!0},{align:"left",name:"due_balance",label:"ថ្លៃជំពាក់",field:"due_balance",sortable:!0},{align:"left",name:"purchase_date",label:"ថ្ងៃនាំចូល",field:"purchase_date",sortable:!0}],columns_pending:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"sup_name",label:"អ្នកផ្គត់ផ្គង់",field:"sup_name",sortable:!0},{align:"left",name:"description",label:"ចំណាំ",field:"description",sortable:!0},{align:"left",name:"amount",label:"សរុប",field:"amount",sortable:!0},{align:"left",name:"paid_balance",label:"ថ្លៃចំណាយ",field:"paid_balance",sortable:!0},{align:"left",name:"due_balance",label:"ថ្លៃជំពាក់",field:"due_balance",sortable:!0},{align:"left",name:"purchase_date",label:"ថ្ងៃនាំចូល",field:"purchase_date",sortable:!0}]}},computed:{getStocksReceive:function(){return this.$store.getters["stock/getStocks"].filter((function(t){return"Receive"===t.purchase_status}))},getStocksPending:function(){return this.$store.getters["stock/getStocks"].filter((function(t){return"Pending"===t.purchase_status}))}},methods:{dateConverted:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),s=new Intl.DateTimeFormat("en",{month:"short"}).format(e),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(n,"-").concat(s,"-").concat(a)}}},o=r,l=a("2877"),i=a("eebe"),c=a.n(i),p=a("9989"),d=a("f09f"),u=a("a370"),f=a("2c91"),b=a("9c40"),_=a("9f0a"),g=a("adad"),m=a("823b"),x=a("eaac"),q=a("27f9"),v=a("0016"),k=a("bd08"),w=a("db86"),y=Object(l["a"])(o,s,n,!1,null,"66a0dd76",null);e["default"]=y.exports;c()(y,"components",{QPage:p["a"],QCard:d["a"],QCardSection:u["a"],QSpace:f["a"],QBtn:b["a"],QOptionGroup:_["a"],QTabPanels:g["a"],QTabPanel:m["a"],QTable:x["a"],QInput:q["a"],QIcon:v["a"],QTr:k["a"],QTd:w["a"]})}}]);