(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[52],{"337d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-card",[e("q-card-actions",{attrs:{align:"left"}},[e("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],staticStyle:{width:"150px"},attrs:{color:"red",icon:"reply",label:"ត្រឡប់ក្រោយ"}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("ថយក្រោយ")])],1)],1),e("q-card-section",[e("q-form",{ref:"addForm",staticClass:"q-gutter-md",on:{submit:t.onSubmit}},[e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-item-label",{staticClass:"col q-my-sm"},[e("span",{staticClass:"text-bold"},[t._v(" អត្តបទអ្នកជម្ងឺ ")])])],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-select",{staticClass:"col",attrs:{outlined:"",label:"ឈ្មោះអ្នកជម្ងឺ",options:t.getPatients,square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមជ្រើសរើសចន្លោះ"}]},model:{value:t.data.patient_obj,callback:function(a){t.$set(t.data,"patient_obj",a)},expression:"data.patient_obj"}}),e("q-select",{staticClass:"col",attrs:{outlined:"",label:"ជ្រើសរើសបន្ទប់",options:t.getRooms,square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមជ្រើសរើសចន្លោះ"}]},model:{value:t.data.room_obj,callback:function(a){t.$set(t.data,"room_obj",a)},expression:"data.room_obj"}}),e("q-input",{staticClass:"col",attrs:{label:"ថ្ងៃពិនិត្យ",outlined:"",square:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[e("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.data.exa_date,callback:function(a){t.$set(t.data,"exa_date",a)},expression:"data.exa_date"}})],1)],1)]},proxy:!0}]),model:{value:t.data.exa_date,callback:function(a){t.$set(t.data,"exa_date",a)},expression:"data.exa_date"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"មូលហេតុសម្រាក",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.reason,callback:function(a){t.$set(t.data,"reason",a)},expression:"data.reason"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"ប្រវត្តិប្រតិកម្ម",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.his_reaction,callback:function(a){t.$set(t.data,"his_reaction",a)},expression:"data.his_reaction"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"ប្រវត្តិជំងឺ",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.his_ill,callback:function(a){t.$set(t.data,"his_ill",a)},expression:"data.his_ill"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-select",{staticClass:"col",attrs:{square:"",outlined:"",label:"អតីតកាលជំងឺ","use-input":"","use-chips":"",multiple:"","input-debounce":"0",options:t.filterOptions,"lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},on:{"new-value":t.createValue,filter:t.filterFn},model:{value:t.data.ex_ill,callback:function(a){t.$set(t.data,"ex_ill",a)},expression:"data.ex_ill"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"សភាពទូទៅ",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.gen_status,callback:function(a){t.$set(t.data,"gen_status",a)},expression:"data.gen_status"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"កំដៅ",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.heat,callback:function(a){t.$set(t.data,"heat",a)},expression:"data.heat"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"សំពាធឈាម",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.blood_pressure,callback:function(a){t.$set(t.data,"blood_pressure",a)},expression:"data.blood_pressure"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"ជីពចរ",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.pulse,callback:function(a){t.$set(t.data,"pulse",a)},expression:"data.pulse"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"Spo2",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.spo,callback:function(a){t.$set(t.data,"spo",a)},expression:"data.spo"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"ទំងន់",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.weight,callback:function(a){t.$set(t.data,"weight",a)},expression:"data.weight"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"សញ្ញាតំអូញ",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.signal_ill,callback:function(a){t.$set(t.data,"signal_ill",a)},expression:"data.signal_ill"}}),e("q-input",{staticClass:"col",attrs:{outlined:"",label:"រូបសញ្ញា",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.mark_ill,callback:function(a){t.$set(t.data,"mark_ill",a)},expression:"data.mark_ill"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"រោគវិនិច្ឆ័យចូល",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.diagnose_in,callback:function(a){t.$set(t.data,"diagnose_in",a)},expression:"data.diagnose_in"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"ការពិនិត្យអម",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.check_at,callback:function(a){t.$set(t.data,"check_at",a)},expression:"data.check_at"}})],1),e("div",{staticClass:"row q-gutter-x-sm q-mb-sm"},[e("q-input",{staticClass:"col",attrs:{outlined:"",label:"រោគវិនិច្ឆ័យចេញ",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:t.data.diagnose_out,callback:function(a){t.$set(t.data,"diagnose_out",a)},expression:"data.diagnose_out"}})],1)])],1),e("q-card-actions",{attrs:{align:"right"}},[e("q-btn",{staticStyle:{width:"150px",height:"50px"},attrs:{icon:"save",color:"primary",label:"រក្សារទុក"},on:{click:function(a){return t.$refs.addForm.submit()}}},[e("q-tooltip",{attrs:{"content-class":"bg-white text-primary"}},[t._v("Save")])],1)],1)],1)},l=[],n=(e("6762"),e("7f7f"),["លើសសំពាធឈាម","របេង","ទឹកនោមផ្អែម"]),o={name:"ExamineAdd",data:function(){return{data:{patient_obj:"",patient:"",room_obj:"",room:"",exa_date:"",reason:"",his_reaction:"",his_ill:"",ex_ill:[],gen_status:"",heat:"",blood_pressure:"",pulse:"",spo:"",weight:"",signal_ill:"",mark_ill:"",diagnose_in:"",check_at:"",diagnose_out:"",is_stay:!0},filterOptions:n}},computed:{getPatients:function(){var t=this;return this.$store.getters["patient/getPatient"].map((function(a){return{label:"".concat(a.lname," ").concat(a.fname," - ").concat(a.llatin," ").concat(a.flatin,", ").concat(a.gender,", ").concat(t.dateConverted(a.dob)),value:a._id}}))},getRooms:function(){return this.$store.getters["room/getFreeRoom"].map((function(t){return{label:t.name,value:t._id}}))}},methods:{onSubmit:function(){var t=this;t.data.patient=t.data.patient_obj.value,t.data.room=t.data.room_obj.value,t.$store.dispatch("examine/storeExamine",t.data).then((function(a){a.status?(t.$store.dispatch("room/fetchRoom"),window.history.back(),t.$q.notify({color:"green-4",textColor:"white",icon:"cloud_done",message:a.message})):t.$q.notify({color:"red-5",textColor:"white",icon:"warning",message:a.message})}))},createValue:function(t,a){t.length>2&&(n.includes(t)||a(t,"add-unique"))},filterFn:function(t,a){var e=this;a((function(){if(""===t)e.filterOptions=n;else{var a=t.toLowerCase();e.filterOptions=n.filter((function(t){return t.toLowerCase().indexOf(a)>-1}))}}))},dateConverted:function(t){var a=new Date(t),e=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),s=new Intl.DateTimeFormat("en",{month:"short"}).format(a),l=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a);return"".concat(l,"-").concat(s,"-").concat(e)}}},i=o,r=e("2877"),u=e("eebe"),c=e.n(u),d=e("f09f"),m=e("4b7e"),p=e("9c40"),b=e("05c0"),f=e("a370"),q=e("0378"),_=e("0170"),g=e("ddd8"),x=e("27f9"),v=e("0016"),h=e("7cbe"),C=e("52ee"),w=e("2eeb"),k=Object(r["a"])(i,s,l,!1,null,"b5def2cc",null);a["default"]=k.exports;c()(k,"components",{QCard:d["a"],QCardActions:m["a"],QBtn:p["a"],QTooltip:b["a"],QCardSection:f["a"],QForm:q["a"],QItemLabel:_["a"],QSelect:g["a"],QInput:x["a"],QIcon:v["a"],QPopupProxy:h["a"],QDate:C["a"]}),c()(k,"directives",{GoBack:w["a"]})}}]);