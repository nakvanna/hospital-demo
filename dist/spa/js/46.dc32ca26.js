(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[46],{af82:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{attrs:{padding:""}},[a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h5 text-bold"},[t._v("បុគ្គលិក")]),a("q-space"),a("q-btn",{attrs:{size:"20px",icon:"add_circle_outline",flat:"",round:"",to:"/staff/create"}})],1),a("q-card-section",[a("q-table",{staticClass:"table-virtual-scroll",attrs:{data:t.getStaffs,columns:t.columns,"row-key":"name",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{attrs:{props:e}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-btn",{attrs:{flat:"",icon:"more_vert",dense:"",color:"grey",size:"12px"}},[a("q-menu",[a("q-list",{staticStyle:{"min-width":"100px"},attrs:{dense:""}},[a("q-item",{attrs:{clickable:"",to:"/staff/"+e.row._id+"/edit"}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"edit",size:"15px"}})],1),a("q-item-section",[t._v("\n                        Edit\n                      ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator"),a("q-item",{attrs:{clickable:"",disable:""},on:{click:function(a){return t.printStaffCV(e.row._id)}}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"print",size:"15px"}})],1),a("q-item-section",[t._v("CV")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1),a("q-separator"),a("q-item",{attrs:{clickable:"",to:"/staff/"+e.row._id+"/salary"}},[a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"payment",size:"15px"}})],1),a("q-item-section",[t._v("\n                        Salary\n                      ")]),a("q-item-section",{attrs:{side:""}},[a("q-icon",{attrs:{name:"keyboard_arrow_right",size:"15px"}})],1)],1)],1)],1)],1)],1),a("q-td",{key:"thumbnail",attrs:{props:e}},[a("q-avatar",{staticClass:"shadow-1",attrs:{size:"100px"}},[a("q-img",{attrs:{src:e.row.hostname+e.row.photo}})],1)],1),a("q-td",{key:"full_name",attrs:{props:e}},[t._v("\n              "+t._s(e.row.full_name)+"\n            ")]),a("q-td",{key:"full_latin",attrs:{props:e}},[t._v("\n              "+t._s(e.row.full_latin)+"\n            ")]),a("q-td",{key:"gender",attrs:{props:e}},[t._v("\n              "+t._s(e.row.gender)+"\n            ")]),a("q-td",{key:"dob",attrs:{props:e}},[t._v("\n              "+t._s(e.row.dob)+"\n            ")]),a("q-td",{key:"national_id",attrs:{props:e}},[t._v("\n              "+t._s(e.row.national_id)+"\n            ")]),a("q-td",{key:"banking",attrs:{props:e}},[t._v("\n              "+t._s(e.row.banking)+"\n            ")]),a("q-td",{key:"email",attrs:{props:e}},[t._v("\n              "+t._s(e.row.email)+"\n            ")]),a("q-td",{key:"tel",attrs:{props:e}},[t._v("\n              "+t._s(e.row.tel)+"\n            ")]),a("q-td",{key:"telegram",attrs:{props:e}},[t._v("\n              "+t._s(e.row.telegram)+"\n            ")]),a("q-td",{key:"facebook",attrs:{props:e}},[t._v("\n              "+t._s(e.row.facebook)+"\n            ")]),a("q-td",{key:"createdAt",attrs:{props:e}},[t._v("\n              "+t._s(t.formatDateToString(e.row.createdAt))+"\n            ")])],1)]}}])})],1)],1)],1)},r=[],o=(a("3118"),a("c76c"),a("d1bb"),a("b5e6"),a("8887"),a("3552"),a("ea6e")),i=a.n(o),l=(a("2735"),a("c0e9")),s=a.n(l),c=a("4fbb"),f=a.n(c),d=a("110e");function p(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?p(Object(a),!0).forEach((function(e){f()(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}var u={name:"Staff",data:function(){return{panel:"staff",filter:"",pagination:{rowsPerPage:0},columns:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"thumbnail",field:"thumbnail"},{align:"left",name:"full_name",label:"ឈ្មោះខ្មែរ",field:"full_name",sortable:!0},{align:"left",name:"full_latin",label:"ឈ្មោះឡាតាំង",field:"full_latin",sortable:!0},{align:"left",name:"gender",label:"ភេទ",field:"gender",sortable:!0},{align:"left",name:"dob",label:"ថ្ងៃខែឆ្នាំកំណើត",field:"dob",sortable:!0},{align:"left",name:"national_id",label:"អត្តសញ្ញាណប័ណ្ឌ",field:"national_id",sortable:!0},{align:"left",name:"banking",label:"គុងធនាគារ",field:"banking",sortable:!0},{align:"left",name:"email",label:"អ៊ី-ម៉ែល",field:"email",sortable:!0},{align:"left",name:"tel",label:"ទូរសព្ទ",field:"tel",sortable:!0},{align:"left",name:"telegram",label:"Telegram",field:"telegram",sortable:!0},{align:"left",name:"facebook",label:"Facebook",field:"facebook",sortable:!0},{align:"left",name:"createdAt",label:"កាលបរិច្ឆេទ",field:"createdAt"}]}},computed:{getStaffs:function(){return this.$store.getters["staff/getStaff"].map((function(t){return b(b({},t),{},{full_name:"".concat(t.lname," ").concat(t.fname),full_latin:"".concat(t.llatin," ").concat(t.flatin),banking:"".concat(t.bank_name,": ").concat(t.bank_account_no)})}))}},created:function(){var t=this;return s()(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t,console.log(a.getStaffs),n=a.$router.currentRoute.meta,e.next=5,a.$store.dispatch("active_route/updateCurrentRoute",n);case 5:case"end":return e.stop()}}),e)})))()},methods:{formatDateToString:function(t){return d["b"].formatDate(t,"DD-MMM-YYYY")}}},m=u,_=a("7a99"),g=a("3d2d"),q=a.n(g),k=a("7441"),w=a("60e8"),y=a("81d0"),v=a("806e"),h=a("31c6"),x=a("86ca"),S=a("8e7c"),O=a("3cf2"),Q=a("c62b"),j=a("fefc"),P=a("7c13"),z=a("b6ad"),C=a("f6b4"),D=a("ec49"),T=a("ab6e"),A=a("6f5a"),I=a("de2d"),E=Object(_["a"])(m,n,r,!1,null,"e3aaf852",null);e["default"]=E.exports;q()(E,"components",{QPage:k["a"],QCard:w["a"],QCardSection:y["a"],QSpace:v["a"],QBtn:h["a"],QTable:x["a"],QInput:S["a"],QIcon:O["a"],QTr:Q["a"],QTd:j["a"],QMenu:P["a"],QList:z["a"],QItem:C["a"],QItemSection:D["a"],QSeparator:T["a"],QAvatar:A["a"],QImg:I["a"]})}}]);