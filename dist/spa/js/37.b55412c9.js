(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[37],{"00a8":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("q-page",{attrs:{padding:""}},[e("q-card",[e("q-card-section",{staticClass:"row items-center q-pb-none"},[e("div",{staticClass:"text-h5 text-bold"},[t._v("របាយការណ៍ប្រាក់ខែបុគ្គលិក")]),e("q-space"),e("q-space"),e("div",{staticClass:"row q-gutter-x-sm"},[e("q-input",{staticClass:"col",attrs:{label:"ថ្ងៃទិញចូល",outlined:"",square:"",mask:"date",rules:["date"]},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[e("q-popup-proxy",{ref:"qDateProxyStart",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{on:{input:function(a){return t.getStartDate()}},model:{value:t.data.start_date,callback:function(a){t.$set(t.data,"start_date",a)},expression:"data.start_date"}})],1)],1)]},proxy:!0}]),model:{value:t.data.start_date,callback:function(a){t.$set(t.data,"start_date",a)},expression:"data.start_date"}}),e("q-input",{staticClass:"col",attrs:{label:"ថ្ងៃលក់ចេញ",outlined:"",square:"",mask:"date",rules:["date"]},on:{change:function(a){return t.getEndDate()}},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[e("q-popup-proxy",{ref:"qDateProxyEnd",attrs:{"transition-show":"scale","transition-hide":"scale"}},[e("q-date",{on:{input:function(a){return t.getEndDate()}},model:{value:t.data.end_date,callback:function(a){t.$set(t.data,"end_date",a)},expression:"data.end_date"}})],1)],1)]},proxy:!0}]),model:{value:t.data.end_date,callback:function(a){t.$set(t.data,"end_date",a)},expression:"data.end_date"}})],1)],1),e("q-card-section",[e("div",{staticClass:"row q-gutter-x-sm"},[e("q-card",{staticClass:"col-4 my-card text-white",staticStyle:{cursor:"pointer",background:"radial-gradient(circle, #F15451 0%, #505353 100%)"},on:{click:function(a){t.tab="empty-stock"}}},[e("q-card-section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col"},[e("div",{staticClass:"text-h3 text-bold"},[t._v(t._s(t.getTotalSalary.toFixed(2))+" "),e("span",{staticClass:"text-h6"},[t._v("ដុល្លា")])]),e("div",{staticClass:"text-subtitle2"},[t._v("ប្រាក់ខែបានបើក")])]),e("q-card-actions",[e("q-btn",{attrs:{size:"20px",icon:"filter_list",flat:"",round:""},on:{click:function(a){t.tab="empty-stock"}}})],1)],1)])],1)],1)]),e("q-card-section",[e("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getStaffSalary,columns:t.column_staff_salary,"row-key":"_id",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(a){t.pagination=a}},scopedSlots:t._u([{key:"top-right",fn:function(){return[e("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[e("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(a){t.filter=a},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(a){return[e("q-tr",{staticClass:"cursor-pointer",attrs:{props:a},on:{click:function(e){return t.$router.push({path:"/sale/"+a.row._id+"/view"})}}},[e("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:a}},[e("q-btn",{attrs:{disable:"",size:"15px",flat:"",round:"",color:"green",dense:"",icon:"fas fa-hand-holding-usd",to:"/stock/"+a.row._id+"/edit"}})],1),e("q-td",{key:"staff_name",staticClass:"q-gutter-x-xs",attrs:{props:a}},[e("span",{staticClass:"text-bold"},[t._v(t._s(a.row.staff.lname)+" "+t._s(a.row.staff.fname))])]),e("q-td",{key:"salary",staticClass:"q-gutter-x-xs text-primary",attrs:{props:a}},[e("span",{staticClass:"text-h6 text-bold"},[t._v("$"+t._s(a.row.salary))])]),e("q-td",{key:"description",staticClass:"q-gutter-x-xs",attrs:{props:a}},[e("q-input",{staticClass:"col",attrs:{readonly:"",type:"textarea",rows:"1",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:a.row.description,callback:function(e){t.$set(a.row,"description",e)},expression:"props.row.description"}})],1),e("q-td",{key:"amount",staticClass:"q-gutter-x-xs text-negative",attrs:{props:a}},[e("span",{staticClass:"text-h6 text-bold"},[t._v("$"+t._s(a.row.amount))])]),e("q-td",{key:"pay_date",staticClass:"q-gutter-x-xs",attrs:{props:a}},[e("span",{staticClass:"text-h6"},[t._v(t._s(t.dateConverted(a.row.pay_date)))])])],1)]}}])})],1)],1)],1)},n=[],r=e("967e"),o=e.n(r),i=(e("96cf"),e("fa84")),c=e.n(i),l={name:"StaffSalaryReport",data:function(){return{filter:"",pagination:{rowsPerPage:0},column_staff_salary:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"staff_name",label:"បុគ្គលិក",field:"staff_name",sortable:!0},{align:"left",name:"salary",label:"ប្រាក់ខែបុគ្គលិក",field:"salary",sortable:!0},{align:"left",name:"description",label:"ចំណាំ",field:"description",sortable:!0},{align:"left",name:"pay_date",label:"ថ្ងៃបើក",field:"pay_date",sortable:!0}],data:{start_date:"2020/01/01",end_date:(new Date).toISOString().slice(0,10)}}},computed:{getStaffSalary:function(){return this.$store.getters["staff/getStaffSalaryByDate"]},getTotalSalary:function(){var t=0;return this.getStaffSalary.map((function(a){t+=a.salary})),t}},created:function(){this.$q.loading.show(),this.$store.dispatch("staff/fetchSalaryStaffByDate",this.data),this.$q.loading.hide()},methods:{dateConverted:function(t){var a=new Date(t),e=new Intl.DateTimeFormat("en",{year:"numeric"}).format(a),s=new Intl.DateTimeFormat("en",{month:"short"}).format(a),n=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(a);return"".concat(n,"-").concat(s,"-").concat(e)},getStartDate:function(){var t=this;return c()(o.a.mark((function a(){return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$q.loading.show(),t.$refs.qDateProxyStart.hide(),a.next=4,t.$store.dispatch("staff/fetchSalaryStaffByDate",t.data);case 4:t.$q.loading.hide();case 5:case"end":return a.stop()}}),a)})))()},getEndDate:function(){var t=this;return c()(o.a.mark((function a(){return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.$q.loading.show(),t.$refs.qDateProxyEnd.hide(),a.next=4,t.$store.dispatch("staff/fetchSalaryStaffByDate",t.data);case 4:t.$q.loading.hide();case 5:case"end":return a.stop()}}),a)})))()}}},d=l,u=e("2877"),p=e("eebe"),f=e.n(p),y=e("9989"),x=e("f09f"),q=e("a370"),m=e("2c91"),_=e("27f9"),h=e("0016"),g=e("7cbe"),b=e("52ee"),w=e("4b7e"),v=e("9c40"),k=e("eaac"),C=e("bd08"),S=e("db86"),$=Object(u["a"])(d,s,n,!1,null,"7c3a296c",null);a["default"]=$.exports;f()($,"components",{QPage:y["a"],QCard:x["a"],QCardSection:q["a"],QSpace:m["a"],QInput:_["a"],QIcon:h["a"],QPopupProxy:g["a"],QDate:b["a"],QCardActions:w["a"],QBtn:v["a"],QTable:k["a"],QTr:C["a"],QTd:S["a"]})}}]);