(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[42],{"0218":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("q-card",[a("q-card-section",{staticClass:"row items-center q-pb-none"},[a("div",{staticClass:"text-h5 text-bold"},[t._v("គ្រូពេទ្យចេញថ្នាំ")]),a("q-space"),a("q-btn",{attrs:{size:"20px",icon:"add_circle_outline",flat:"",round:"",to:"/sale/create"}})],1),a("q-card-section",[a("q-table",{staticClass:"table-virtual-scroll-stock",attrs:{data:t.getSalesPending,columns:t.columns_pending,"row-key":"_id",filter:t.filter,"virtual-scroll":"",pagination:t.pagination,"rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"top-right",fn:function(){return[a("q-input",{attrs:{borderless:"",dense:"",debounce:"300",placeholder:"Search"},scopedSlots:t._u([{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(e){return[a("q-tr",{staticClass:"cursor-pointer",attrs:{props:e},on:{click:function(a){return t.$router.push({path:"/sale/"+e.row._id+"/view"})}}},[a("q-td",{key:"_id",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-btn",{attrs:{size:"15px",flat:"",round:"",color:"warning",dense:"",icon:"fas fa-edit",to:"/sale/"+e.row._id+"/edit"}})],1),a("q-td",{key:"patient_name",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-uppercase"},[t._v(t._s(e.row.patient.lname+" "+e.row.patient.fname))])]),a("q-td",{key:"description",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("q-input",{staticClass:"col",attrs:{readonly:"",type:"textarea",rows:"2",square:"","lazy-rules":"",rules:[function(t){return!!t||"សូមបំពេញចន្លោះ"}]},model:{value:e.row.description,callback:function(a){t.$set(e.row,"description",a)},expression:"props.row.description"}})],1),a("q-td",{key:"amount",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-primary"},[t._v("$"+t._s(e.row.amount))])]),a("q-td",{key:"paid_amount",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-warning"},[t._v("$"+t._s(e.row.paid_amount))])]),a("q-td",{key:"due_amount",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-negative"},[t._v("$"+t._s(e.row.due_amount))])]),a("q-td",{key:"username",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold text-negative"},[t._v(t._s(e.row.user_admin.name))])]),a("q-td",{key:"sale_date",staticClass:"q-gutter-x-xs",attrs:{props:e}},[a("span",{staticClass:"text-bold"},[t._v(t._s(t.dateConverted(e.row.sale_date)))])])],1)]}}])})],1)],1)],1)},s=[],l={name:"Sale",data:function(){return{panel:"receive",filter:"",pagination:{rowsPerPage:0},columns_receive:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"patient_name",label:"អ្នកជម្ងឺ",field:"patient_name",sortable:!0},{align:"left",name:"description",label:"ចំណាំ",field:"description",sortable:!0},{align:"left",name:"amount",label:"សរុប",field:"amount",sortable:!0},{align:"left",name:"paid_amount",label:"ថ្លៃចំណាយ",field:"paid_amount",sortable:!0},{align:"left",name:"due_amount",label:"ថ្លៃជំពាក់",field:"due_amount",sortable:!0},{align:"left",name:"sale_date",label:"ថ្ងៃនាំចូល",field:"sale_date",sortable:!0}],columns_pending:[{align:"left",name:"_id",field:"_id"},{align:"left",name:"patient_name",label:"អ្នកជម្ងឺ",field:"patient_name",sortable:!0},{align:"left",name:"description",label:"ចំណាំ",field:"description",sortable:!0},{align:"left",name:"amount",label:"សរុប",field:"amount",sortable:!0},{align:"left",name:"paid_amount",label:"ថ្លៃចំណាយ",field:"paid_amount",sortable:!0},{align:"left",name:"due_amount",label:"ថ្លៃជំពាក់",field:"due_amount",sortable:!0},{align:"left",name:"username",label:"កំណត់ដោយ",field:"username",sortable:!0},{align:"left",name:"sale_date",label:"ថ្ងៃនាំចូល",field:"sale_date",sortable:!0}]}},computed:{getSalesReceive:function(){return this.$store.getters["sale/getSales"].filter((function(t){return"Receive"===t.sale_status}))},getSalesPending:function(){return this.$store.getters["sale/getSales"].filter((function(t){return"Pending"===t.sale_status}))}},methods:{dateConverted:function(t){var e=new Date(t),a=new Intl.DateTimeFormat("en",{year:"numeric"}).format(e),n=new Intl.DateTimeFormat("en",{month:"short"}).format(e),s=new Intl.DateTimeFormat("en",{day:"2-digit"}).format(e);return"".concat(s,"-").concat(n,"-").concat(a)}}},r=l,i=a("7a99"),o=a("3d2d"),d=a.n(o),c=a("7441"),u=a("60e8"),p=a("81d0"),f=a("806e"),m=a("31c6"),_=a("2ceb"),b=a("2c98"),g=a("a118"),x=a("86ca"),q=a("8e7c"),w=a("3cf2"),v=a("c62b"),C=a("fefc"),y=Object(i["a"])(r,n,s,!1,null,"b7328b72",null);e["default"]=y.exports;d()(y,"components",{QPage:c["a"],QCard:u["a"],QCardSection:p["a"],QSpace:f["a"],QBtn:m["a"],QOptionGroup:_["a"],QTabPanels:b["a"],QTabPanel:g["a"],QTable:x["a"],QInput:q["a"],QIcon:w["a"],QTr:v["a"],QTd:C["a"]})}}]);